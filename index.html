<!doctype html>
<html>
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Top Daily Tips</title>
<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<link rel="stylesheet" href="styles.css"/>
</head>
<body>

<header class="main-header">
<h1 class="logo-3d">Top Daily Tips</h1>
<div class="tabs">
<button id="tabBets" class="active">Value Bets</button>
<button id="tabTracker">Tracker</button>
</div>
<button id="authBtn" class="auth-btn">Log in</button>
</header>

<section id="betsSection">
<div id="betsGrid" class="bets-grid"></div>
</section>

<section id="trackerSection" style="display:none;">

<div class="bankroll-section">
  <div class="bankroll-row">
    <label>Starting Bankroll</label>
    <input type="number" id="startingBankroll" value="290" />
    <button onclick="exportCSV()">Export CSV</button>
  </div>
</div>

<div class="stats-grid">
<div class="stat-card">Bankroll<br><strong>Â£<span id="bankroll">0</span></strong></div>
<div class="stat-card" id="profitCard">Profit<br><strong>Â£<span id="profit">0</span></strong></div>
<div class="stat-card">ROI<br><strong><span id="roi">0</span>%</strong></div>
<div class="stat-card">Win Rate<br><strong><span id="winrate">0</span>%</strong></div>
<div class="stat-card">Won - Lost<br><strong><span id="wonLost">0-0</span></strong></div>
<div class="stat-card">Staked<br><strong>Â£<span id="totalStakedCard">0</span></strong></div>
<div class="stat-card">Avg Odds<br><strong><span id="avgOdds">0</span></strong></div>
<div class="stat-card">Total Bets<br><strong><span id="totalBets">0</span></strong></div>
</div>

<div class="chart-tabs">
  <button class="tab-btn active" data-tab="daily">Daily</button>
  <button class="tab-btn" data-tab="monthly">Monthly</button>
  <button class="tab-btn" data-tab="market">Markets</button>
</div>

<div class="chart-wrap">
  <div class="chart-pane active" id="pane-daily">
    <canvas id="chart"></canvas>
  </div>
  <div class="chart-pane" id="pane-monthly">
  <canvas id="monthlyChart"></canvas>

  <div class="monthly-breakdown">
    <div class="monthly-toggle" onclick="toggleMonthly()">
      ðŸ“Š Monthly Breakdown
      <span id="monthlyArrow">â–¼</span>
    </div>

    <div id="monthlyWrapper" class="collapsed">
      <div id="monthlyTable"></div>
    </div>
  </div>

</div>
  <div class="chart-pane" id="pane-market">
    <canvas id="marketChart"></canvas>
  </div>
</div>

<div class="tracker-history">
  <div class="tracker-toggle" onclick="toggleTracker()">
    ðŸ“ˆ Bet Results (<span id="betCount">0</span>)
    <span id="trackerArrow">â–¼</span>
  </div>
  <div id="trackerWrapper" class="collapsed">
    <div id="trackerTable"></div>
  </div>
</div>

</section>

<script src="app.js"></script>

<div id="authModal" class="modal hidden" role="dialog" aria-modal="true" aria-hidden="true">
  <div class="modal-backdrop" id="authBackdrop"></div>
  <div class="modal-card" role="document">
    <div class="modal-head">
      <div class="modal-title" id="authTitle">Log in</div>
      <button class="modal-close" id="authClose" aria-label="Close">âœ•</button>
    </div>

    <div class="modal-body">
      <label class="field">
        <span>Email</span>
        <input id="authEmail" type="email" autocomplete="email" placeholder="you@example.com" />
      </label>

      <label class="field">
        <span>Password</span>
        <input id="authPass" type="password" autocomplete="current-password" placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢" />
      </label>

      <div class="auth-msg" id="authMsg"></div>

      <button id="authSubmit" class="primary-btn" type="button">Continue</button>

      <div class="auth-switch">
        <span id="authSwitchText">Donâ€™t have an account?</span>
        <button id="authToggle" class="link-btn" type="button">Create account</button>
      </div>

      <div class="auth-note">
        You only need an account to use the Tracker. Value Bets stay public and read-only.
      </div>
    </div>
  </div>
</div>

</body>
</html>
