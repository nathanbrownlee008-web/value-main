<!doctype html>
<html>
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Top Daily Tips</title>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<link rel="stylesheet" href="styles.css"/>
</head>
<body>

<header class="main-header">
<h1 class="logo-3d">Top Daily Tips</h1>
<div class="tabs">
<button id="tabBets" class="active">Value Bets</button>
<button id="tabTracker">Tracker</button>
</div>
  <button id="authBtn" class="auth-btn">Log in</button>
</header>

<section id="betsSection">
  <div id="betsStatus" class="bets-status">Loading betsâ€¦</div>
  <div class="bets-toolbar">
    <div class="bets-toolbar__left">
      <span class="bets-toolbar__label">Sort</span>
      <select id="betsSort" class="bets-toolbar__select">
        <option value="date_desc">Date (newest)</option>
        <option value="date_asc">Date (oldest)</option>
        <option value="value_desc">Value % (high)</option>
        <option value="value_asc">Value % (low)</option>
        <option value="prob_desc">Probability % (high)</option>
        <option value="prob_asc">Probability % (low)</option>
        <option value="odds_desc">Odds (high)</option>
        <option value="odds_asc">Odds (low)</option>
      </select>
    </div>
  </div>

  <div id="betsGrid" class="bets-grid"></div>
</section>

<section id="trackerSection" style="display:none;">

<div class="bankroll-section">
  <div class="bankroll-row">
    <label>Starting Bankroll</label>
    <input type="number" id="startingBankroll" value="290" />
    <button onclick="exportCSV()">Export CSV</button>
  </div>
</div>

<div class="stats-grid">
<div class="stat-card">Bankroll<br><strong>Â£<span id="bankroll">0</span></strong></div>
<div class="stat-card" id="profitCard">Profit<br><strong>Â£<span id="profit">0</span></strong></div>
<div class="stat-card">ROI<br><strong><span id="roi">0</span>%</strong></div>
<div class="stat-card">Win Rate<br><strong><span id="winrate">0</span>%</strong></div>
<div class="stat-card">Won - Lost<br><strong><span id="wonLost">0-0</span></strong></div>
<div class="stat-card">Staked<br><strong>Â£<span id="totalStakedCard">0</span></strong></div>
<div class="stat-card">Avg Odds<br><strong><span id="avgOdds">0</span></strong></div>
<div class="stat-card">Total Bets<br><strong><span id="totalBets">0</span></strong></div>
</div>

<div class="chart-tabs">
  <button class="tab-btn active" data-tab="daily">Daily</button>
  <button class="tab-btn" data-tab="monthly">Monthly</button>
  <button class="tab-btn" data-tab="market">Markets</button>
</div>

<div class="chart-wrap">
  <div class="chart-pane active" id="pane-daily">
    <canvas id="chart"></canvas>
  </div>
  <div class="chart-pane" id="pane-monthly">
  <canvas id="monthlyChart"></canvas>

  <div class="monthly-breakdown">
    <div class="monthly-toggle" onclick="toggleMonthly()">
      ðŸ“Š Monthly Breakdown
      <span id="monthlyArrow">â–¼</span>
    </div>

    <div id="monthlyWrapper" class="collapsed">
      <div id="monthlyTable"></div>
    </div>
  </div>

</div>
  <div class="chart-pane" id="pane-market">
    <canvas id="marketChart"></canvas>
  </div>
</div>

<div class="tracker-history">
  <div class="tracker-toggle" onclick="toggleTracker()">
    ðŸ“ˆ Bet Results (<span id="betCount">0</span>)
    <span id="trackerArrow">â–¼</span>
  </div>
  <div id="trackerWrapper" class="collapsed">
    <div id="trackerTable"></div>
  </div>
</div>

</section>

<script src="https://unpkg.com/@supabase/supabase-js@2"></script>
<script src="app.js"></script>

<div id="authModal" class="auth-modal" style="display:none" aria-hidden="true">
  <div class="auth-modal__backdrop" id="authBackdrop"></div>
  <div class="auth-modal__panel" role="dialog" aria-modal="true" aria-labelledby="authTitle">
    <div class="auth-modal__head">
      <h3 id="authTitle">Log in</h3>
      <button class="auth-x" id="authClose" aria-label="Close">âœ•</button>
    </div>
    <div class="auth-modal__body">
      <div class="auth-hint" id="authHint">Use email + password. (Sign up if you donâ€™t have an account yet.)</div>
      <input id="authEmail" class="auth-input" type="email" placeholder="Email" autocomplete="email">
      <input id="authPass" class="auth-input" type="password" placeholder="Password" autocomplete="current-password">
      <button id="authSubmit" class="auth-primary">Log in</button>
      <button id="authToggle" class="auth-secondary">Create account</button>
      <div id="authMsg" class="auth-msg"></div>
    </div>
  </div>
</div>

</body>
</html>
