<!doctype html>
<html>
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Top Daily Tips</title>
<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<link rel="stylesheet" href="styles.css"/>
</head>
<body>

<header class="main-header">
<h1 class="logo-3d">Top Daily Tips</h1>
<div class="tabs">
<button id="tabBets" class="active">Value Bets</button>
<button id="tabTracker">Tracker</button>
</div>
</header>

<section id="betsSection">
<div id="betsGrid" class="bets-grid"></div>
</section>

<div class="bankroll-section">
  <div class="bankroll-row">
    <label>Starting Bankroll</label>
    <input type="number" id="startingBankroll" value="290" />
    <button id="exportCSV">Export CSV</button>
  </div>
</div>

<div class="stats-grid">
<div class="stat-card">Bankroll<br><strong>Â£<span id="bankroll">0</span></strong></div>
<div class="stat-card" id="profitCard">Profit<br><strong>Â£<span id="profit">0</span></strong></div>
<div class="stat-card">ROI<br><strong><span id="roi">0</span>%</strong></div>
<div class="stat-card">Win Rate<br><strong><span id="winrate">0</span>%</strong></div>
<div class="stat-card">Won<br><strong><span id="wins">0</span></strong></div>
<div class="stat-card">Lost<br><strong><span id="losses">0</span></strong></div>
<div class="stat-card">Avg Odds<br><strong><span id="avgOdds">0</span></strong></div>

<div class="stat-card">
Total Bets<br>
<strong><span id="totalBets">0</span></strong>
</div>
</div>

<div class="insights-wrapper">
  <div class="insights-toggle" onclick="toggleInsights()">
    ðŸ“Š Insights
    <span id="insightsArrow">â–¼</span>
  </div>
  <div id="insightsContent" class="insights-collapsed">
    <div class="insights">

      <div class="insights-header">
        <h3 class="insights-title">Insights</h3>
        <select id="insightSelect" class="insights-select">
          <option value="bestMarket">Best Market</option>
          <option value="worstMarket">Worst Market</option>
          <option value="bestMonth">Best Month</option>
          <option value="worstMonth">Worst Month</option>
        </select>
      </div>

      <div class="insights-card">
        <div class="insight-label" id="insightLabel">Best Market</div>
        <div class="insight-value" id="insightValue">â€”</div>
      </div>

    </div>
  </div>
</div>

<div class="chart-tabs">
  <button class="tab-btn active" data-tab="daily">Daily</button>
  <button class="tab-btn" data-tab="monthly">Monthly</button>
  <button class="tab-btn" data-tab="market">Markets</button>
</div>

<div class="chart-wrap">
  <div class="chart-pane active" id="pane-daily">
    <canvas id="chart"></canvas>
  </div>
  <div class="chart-pane" id="pane-monthly">
    
    <canvas id="monthlyChart"></canvas>

    <div class="monthly-controls">
        <button id="monthlyToggleMode">Switch to Profit</button>
        <button onclick="toggleMonthlyMini()">Monthly Breakdown â–¼</button>
    </div>

    <div id="monthlyMiniWrapper" class="mini-collapsed">
        <div class="monthly-mini fade-in">
            <table id="monthlyMiniTable"></table>
        </div>
    </div>

    <div class="monthly-breakdown">
      <div class="monthly-toggle" onclick="toggleMonthly()">ðŸ“Š Monthly Breakdown <span id="monthlyArrow">â–¼</span></div>
      <div id="monthlyWrapper" class="collapsed"><div id="monthlyTable"></div></div>
    </div>
    
  </div>
  <div class="chart-pane" id="pane-market">
    <canvas id="marketChart"></canvas>
  </div>
</div>

<div class="tracker-history">
  <div class="tracker-toggle" onclick="toggleTracker()">
    ðŸ“ˆ Bet Results (<span id="betCount">0</span>)
    <span id="trackerArrow">â–¼</span>
  </div>
  <div id="trackerWrapper" class="collapsed">
    <div class="tracker-filters">
    <input type="date" id="filterDate">
    <input type="text" id="filterMarket" placeholder="Market">
    <button id="todayToggle">Today</button>
    <button id="clearFilters">Clear</button>
  </div>

  <div id="trackerTable"></div>
  </div>
</div>

</section>

<script src="app.js"></script>
</body>
</html>
