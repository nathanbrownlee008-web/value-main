<!doctype html>
<html>
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Top Daily Tips</title>
<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<link rel="stylesheet" href="styles.css"/>
</head>
<body>

<header class="main-header">
<h1 class="logo-3d">Top Daily Tips</h1>
<div class="tabs">
<button id="tabBets" class="active">Value Bets</button>
<button id="tabTracker">Tracker</button>
</div>
</header>

<section id="betsSection">
<div id="betsGrid" class="bets-grid"></div>
</section>

<section id="trackerSection" style="display:none;">
<div class="tracker-controls">
<label>Starting Bankroll</label>
<input type="number" id="startingBankroll" value="250"/>
<button onclick="exportCSV()">Export CSV</button>
</div>

<div class="stats-grid">
<div class="stat-card">Bankroll<br><strong>Â£<span id="bankroll">0</span></strong></div>
<div class="stat-card" id="profitCard">Profit<br><strong>Â£<span id="profit">0</span></strong></div>
<div class="stat-card">ROI<br><strong><span id="roi">0</span>%</strong></div>
<div class="stat-card">Win Rate<br><strong><span id="winrate">0</span>%</strong></div>
<div class="stat-card">Won<br><strong><span id="wins">0</span></strong></div>
<div class="stat-card">Lost<br><strong><span id="losses">0</span></strong></div>
<div class="stat-card">Avg Odds<br><strong><span id="avgOdds">0</span></strong></div>
</div>


<div class="insights" id="insightsBlock">
  <div class="insights-header">
    <h3 class="insights-title">Insights</h3>
    <select id="insightSelect" class="insights-select" aria-label="Select insight">
      <option value="bestMarket">Best Market</option>
      <option value="worstMarket">Worst Market</option>
      <option value="bestMonth">Best Month</option>
      <option value="worstMonth">Worst Month</option>
    </select>
  </div>

  <div class="insights-card" id="insightCard">
    <div class="insight-label" id="insightLabel">Best Market</div>
    <div class="insight-value" id="insightValue">â€”</div>
  </div>

  <!-- hidden values populated by JS -->
  <div class="insights-hidden" aria-hidden="true">
    <span id="bestMarket" style="display:none;">â€”</span>
    <span id="worstMarket" style="display:none;">â€”</span>
    <span id="bestMonth" style="display:none;">â€”</span>
    <span id="worstMonth" style="display:none;">â€”</span>
  </div>
</div>

<div class="mini-value" id="bestMarket">â€”</div>
  </div>
  <div class="mini-card">
    <div class="mini-label">Worst Market</div>
    <div class="mini-value" id="worstMarket">â€”</div>
  </div>
  <div class="mini-card">
    <div class="mini-label">Best Month</div>
    <div class="mini-value" id="bestMonth">â€”</div>
  </div>
  <div class="mini-card">
    <div class="mini-label">Worst Month</div>
    <div class="mini-value" id="worstMonth">â€”</div>
  </div>
</div>

<div class="chart-tabs" role="tablist" aria-label="Tracker charts">
  <button class="tab-btn active" data-tab="daily">Daily</button>
  <button class="tab-btn" data-tab="monthly">Monthly</button>
  <button class="tab-btn" data-tab="market">Markets</button>
</div>

<div class="chart-wrap">
  <div class="chart-pane active" id="pane-daily">
    <canvas id="chart"></canvas>
  </div>
  <div class="chart-pane" id="pane-monthly">
    <canvas id="monthlyChart"></canvas>
  </div>
  <div class="chart-pane" id="pane-market">
    <canvas id="marketChart"></canvas>
  </div>
</div>


<div class="tracker-history">
  <div class="tracker-toggle" onclick="toggleTracker()">
    ðŸ“Š Tracker History (<span id="betCount">0</span>)
    <span id="trackerArrow">â–¼</span>
  </div>
  <div id="trackerWrapper" class="collapsed">
    <div id="trackerTable"></div>
  </div>
</div>


</section>

<script src="app.js"></script>
</body>
</html>
